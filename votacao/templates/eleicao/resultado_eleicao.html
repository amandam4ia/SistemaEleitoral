{% extends 'base.html' %}
{% block center %}
<main class="results container mt-5">
    <header class="mb-4">
        <h1>Resultados: {{ eleicao.titulo }}</h1>
        <p>Total de votos: {{ total_votos }}</p>
    </header>

    {% if vencedor %}
    <div class="alert alert-success p-4 mb-4">
        <h3>üèÜ Vencedor: {{ vencedor.chapa.nome }}</h3>
        <p>Com {{ vencedor.votos }} votos ({{ vencedor.porcentagem }}%)</p>
    </div>
    {% endif %}

    <h4>Detalhamento:</h4>
    {% for r in resultados %}
    <div class="mb-3 p-3 border rounded {% if forloop.first %}bg-light{% endif %}">
        <strong>{{ r.chapa.nome }}</strong> ‚Äî {{ r.votos }} votos ({{ r.porcentagem }}%)
        <div class="progress mt-2">
            <div class="progress-bar" style="width: {{ r.porcentagem }}%"></div>
        </div>
    </div>
    {% endfor %}
</main>
{% endblock %}
