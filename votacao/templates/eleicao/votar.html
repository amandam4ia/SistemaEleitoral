{% extends 'base.html' %}

{% block center %}
<main class="voting">
    <div class="container">
        <header class="voting-header">
            <h1>Elei√ß√£o para Presidente do Gr√™mio</h1>
            <p>Escolha seu candidato preferido. Voc√™ pode votar apenas uma vez.</p>
            <div class="voting-progress">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 65%"></div>
                </div>
                <span class="progress-text">813 de 1.247 eleitores votaram (65%)</span>
            </div>
        </header>

        <div class="candidates-grid">
            <div class="candidate-card">
                <div class="candidate-photo">
                    <img src="https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=400" alt="Ana Silva">
                </div>
                <div class="candidate-info">
                    <h3>Ana Silva</h3>
                    <p class="candidate-number">Candidata 10</p>
                    <p class="candidate-description">
                        "Vamos transformar nossa escola em um ambiente mais inclusivo e participativo. 
                        Minha proposta foca em melhorar a comunica√ß√£o entre alunos e dire√ß√£o."
                    </p>
                    <div class="candidate-proposals">
                        <span class="proposal-tag">üå± Sustentabilidade</span>
                        <span class="proposal-tag">üìö Bibliotecas</span>
                        <span class="proposal-tag">üé≠ Arte & Cultura</span>
                    </div>
                </div>
                <div class="candidate-actions">
                    <button class="btn-vote" onclick="vote(10)">Votar em Ana</button>
                </div>
            </div>

            <div class="candidate-card">
                <div class="candidate-photo">
                    <img src="https://images.pexels.com/photos/2182970/pexels-photo-2182970.jpeg?auto=compress&cs=tinysrgb&w=400" alt="Carlos Mendes">
                </div>
                <div class="candidate-info">
                    <h3>Carlos Mendes</h3>
                    <p class="candidate-number">Candidato 20</p>
                    <p class="candidate-description">
                        "Experi√™ncia e inova√ß√£o para um gr√™mio mais forte. Vamos digitalizar os processos 
                        e criar mais oportunidades de participa√ß√£o estudantil."
                    </p>
                    <div class="candidate-proposals">
                        <span class="proposal-tag">üíª Tecnologia</span>
                        <span class="proposal-tag">‚öΩ Esportes</span>
                        <span class="proposal-tag">ü§ù Participa√ß√£o</span>
                    </div>
                </div>
                <div class="candidate-actions">
                    <button class="btn-vote" onclick="vote(20)">Votar em Carlos</button>
                </div>
            </div>

            <div class="candidate-card">
                <div class="candidate-photo">
                    <img src="https://images.pexels.com/photos/3763188/pexels-photo-3763188.jpeg?auto=compress&cs=tinysrgb&w=400" alt="Mariana Costa">
                </div>
                <div class="candidate-info">
                    <h3>Mariana Costa</h3>
                    <p class="candidate-number">Candidata 30</p>
                    <p class="candidate-description">
                        "Juntos por uma escola mais conectada e diversa. Meu foco est√° em eventos 
                        culturais e melhorias no ambiente de estudos."
                    </p>
                    <div class="candidate-proposals">
                        <span class="proposal-tag">üé® Eventos</span>
                        <span class="proposal-tag">üìñ Estudos</span>
                        <span class="proposal-tag">üåà Diversidade</span>
                    </div>
                </div>
                <div class="candidate-actions">
                    <button class="btn-vote" onclick="vote(30)">Votar em Mariana</button>
                </div>
            </div>
        </div>

        <div class="voting-footer">
            <div class="vote-options">
                <button class="btn-null" onclick="voteNull()">Voto em Branco</button>
                <button class="btn-null" onclick="voteInvalid()">Anular Voto</button>
            </div>
        </div>
    </div>
</main>

<!-- Modal de Confirma√ß√£o -->
<div id="confirmModal" class="modal">
    <div class="modal-content">
        <h3>Confirmar Voto</h3>
        <p id="confirmText">Tem certeza que deseja votar neste candidato?</p>
        <div class="modal-actions">
            <button class="btn-secondary" onclick="closeModal()">Cancelar</button>
            <a href="confirmacao.html" class="btn-primary">Confirmar Voto</a>
        </div>
    </div>
</div>

<script>
    function vote(candidateNumber) {
        const modal = document.getElementById('confirmModal');
        const confirmText = document.getElementById('confirmText');
        
        let candidateName = '';
        switch(candidateNumber) {
            case 10: candidateName = 'Ana Silva'; break;
            case 20: candidateName = 'Carlos Mendes'; break;
            case 30: candidateName = 'Mariana Costa'; break;
        }
        
        confirmText.textContent = `Tem certeza que deseja votar em ${candidateName}?`;
        modal.style.display = 'flex';
    }

    function voteNull() {
        const modal = document.getElementById('confirmModal');
        const confirmText = document.getElementById('confirmText');
        confirmText.textContent = 'Tem certeza que deseja votar em branco?';
        modal.style.display = 'flex';
    }

    function voteInvalid() {
        const modal = document.getElementById('confirmModal');
        const confirmText = document.getElementById('confirmText');
        confirmText.textContent = 'Tem certeza que deseja anular seu voto?';
        modal.style.display = 'flex';
    }

    function closeModal() {
        document.getElementById('confirmModal').style.display = 'none';
    }
</script>

{% endblock %}